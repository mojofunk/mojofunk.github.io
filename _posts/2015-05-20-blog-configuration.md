---
layout: post
title:  "Blog Configuration"
date:   2015-05-20 12:15:50
tags: jekyll github
excerpt_separator: <!--more-->
---

I decided to start a blog to contain some technical information that I
think others might find useful or interesting. As the first post I'm going to
outline the procedure I went through to setup this blog. The blog is located
on [github pages](https://pages.github.com) and it is a static website
generated by [jekyll](http://jekyllrb.com). The source code for this blog is
located at [http://github.com/mojofunk/mojofunk.github.io](
http://github.com/mojofunk/mojofunk.github.io)

<!--more-->

To preview the blog locally you need to install jekyll, I followed the setup
instructions on [using jekyll with pages](
https://help.github.com/articles/using-jekyll-with-pages) and used
[bundler](http://bundler.io) as suggested by the instructions so that the
versions of jekyll and the ruby gems are consistent with those on the github
pages hosting.

These steps were performed with Fedora 21 from a terminal. There are some
Fedora specific instructions like using yum for package management but the
steps should be similar on other linux distributions.

Wherever I mention "username" in the instructions I'm referring to your
[github.com](http://github.com) account username.

# Installing Jekyll

$ sudo yum install ruby ruby-devel rubygem

Install bundler

$ gem install bundler

Create a Gemfile for use with bundler with the contents

{% highlight ruby %}
source 'https://rubygems.org'
gem 'github-pages'
gem 'therubyracer'
{% endhighlight %}

Install the "bundle"

$ bundle install

# Create a new site

I then created a new site with jekyll which will create a new subdirectory

$ bundle exec jekyll new username.github.io

I then added/moved the Gemfile to username.github.io/.bundle directory so that
I can use it on other systems.

# Running Jekyll locally

$ cd username.github.io

$ bundle exec jekyll serve

The local jekyll instance should be now be accessible via a web browser at
[localhost:4000](localhost:4000) you can also pass the --watch flag so jekyll
will automatically update the site whenever a file is updated(although I think
this is now the default in newer versions of jekyll)

# Creating the repository

Create a local git repository and add all the files and directories apart from
the _site subdirectory that is created by jekyll

$ git init . && git add . && git commit

Then create a github repository called username.github.io in the usual way
using the [web interface](https://github.com/new) and push the local repository
to github:

$ git remote add origin git@github.com:username/username.github.io.git

$ git push -u origin master

The blog should then be live and hosted at http://username.github.io

# Updating Jekyll

When github updates versions of Jekyll and related gems the local bundle can be
updated from the directory where the Gemfile is located.

$ bundle update
